# 3.E.6: Carousell Auth

## Learning Objectives

1. Know how to implement industry-standard authentication in an app with a SQL backend

## Introduction

We will implement authentication in a simple Carousell clone that allows users to login, view, list and buy items. Users can browse items without logging in, but will need to login to list or buy items.

## Setup

### Fork and clone repos

Fork and clone Rocket Academy's [Carousell Frontend](https://github.com/rocketacademy/carousell-frontend-bootcamp) and [Carousell Backend](https://github.com/rocketacademy/carousell-backend-bootcamp) repos.

Rocket has set up starter code such that users can:

1. View listings from the home page
2. List new items by clicking on "Sell" from the home page
3. Buy items by clicking "Buy" at the bottom of item-specific pages

The starter code follows the structure of our Bigfoot frontend and backend. Rocket followed backend setup instructions in Bigfoot SQL to set up the backend.

### Setup frontend

Run `npm i` to install packages

### Setup backend

1. Run `npm i` to install packages
2. Update `config/database.json` to use your Unix username instead of `kai`
3. Run `npx sequelize db:create` to create the `carousell_development` database
4. Run `npx sequelize db:migrate` to set up database schema
5. Run `npx sequelize db:seed:all` to seed users and listings in the database
6. Verify seed data was added by viewing the `Users` and `Listings` table in our SQL client

### Verify starter code is working

1. Start the backend with `npm start`
2. Start the frontend with `npm start`, and select `y` to start it on port `3001` because the backend is running on port `3000`
3. Verify we do not get errors in our backend or frontend, and we can see 3 seed listings at `localhost:3001` in our browser. Click on a listing to view its details. Buy and sell listings to observe what happens, and notice that the buyer and seller IDs have been hard-coded to 1 (the seed user).

## Base: Require authentication to create listings and buy items

We will now put the theory we learnt in Rocket's Authentication submodule into practice.

### Setup backend API authorisation

### Login from frontend

### Send auth tokens from frontend

## Submission

Submit pull requests to the `main` branches of Rocket's Carousell Frontend and Carousell Backend repos respectively, and share your PR links in your section Slack channel.

## Reference Solution

Here is reference code for the frontend and the backend for this exercise, and here is a reference deployment. You can do better!
