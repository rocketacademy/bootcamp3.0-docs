# 3.2.3: SQL Schema Design

## Learning Objectives

1. SQL schema design is the process of articulating what SQL tables, columns and relationships are needed for a given app's database.
2. Know how to draw an ERD (entity relationship diagram) to visualise SQL tables, columns and relationships
3. Know how to use DrawSQL to draw ERD diagrams

## Introduction

SQL schema design is the process of articulating what SQL tables, columns and relationships are needed for a given app's database. There is [extensive theory](https://en.wikipedia.org/wiki/Database\_normalization) on how to optimise SQL schemas, but for now we will focus on building simple schemas that solve our problems without worrying too much about theory.

We will follow 3 rules when designing our schema:

1. Every table must have a unique ID column
2. Every cell may only have 1 piece of data. No data structures such as arrays or hash tables.
3. Only IDs can be duplicated in multiple tables via foreign keys. Everything else should be referenced by foreign key.

## Entity Relationship Diagram (ERD)



This image is an example of what an ERD might look like. The ERDs we will create at Rocket will be simpler, with fewer symbols (described below). Our ERDs at Rocket will also include data types, which the ERD in this image does not.

![](../../.gitbook/assets/hickey.png)

An ERD (Entity Relationship Diagram) is a drawing that lists the relationships and types of relationships between data. The purpose of an ERD is to visually represent how data relates to itself.

There are many different flavours of ERD, used at various stages of planning, analysing and implementing a system. We will mostly be using it as a sketching tool before writing any SQL.

We will **not** be using an ERD to specify any column data types or low-level SQL syntax. Our ERD will be a kind of pseudocode for our `CREATE TABLE` SQL statements.

Our ERD sits one conceptual level above the database. It talks about the kinds of data our app deals with.

## Drawing an ERD

There are online tools that can be used to draw an ERD but pencil and paper work just as well. The following drawing is an example of how to represent one-to-many, many-to-many, and one-to-one relationships in an ERD.

![How to represent one-to-many, many-to-many, and one-to-one relationships in an ERD](../../.gitbook/assets/cardinalityguide%20\(2\).png)

Note that there are a comprehensive set of "official" ERD relationship symbols, but for our purposes, these are not necessary). See more [here.](https://en.wikipedia.org/wiki/Entity%E2%80%93relationship\_model#Crow's\_foot\_notation)

## Lucid Chart

Past students have found [Lucid Chart](https://www.lucidchart.com/pages/) an effective tool for creating ERDs. Feel free to use any tool you prefer. Below is a screenshot of a sample ERD with Lucid Chart. Use the Entity Relationship toolbar on the left panel to create tables and relationships.

![](../../.gitbook/assets/jie-ping-20210524-11.03.05.png)

We can customise the relationships between tables by selecting the relationship line and changing the endpoint symbols using the top toolbar.

![](../../.gitbook/assets/jie-ping-20210524-11.02.47.png)

Past students have found this useful in explaining the functionalities behind LucidChart and using it for importing and exporting ERDs:\
[https://www.youtube.com/watch?v=-CuY5ADwn24](https://www.youtube.com/watch?v=-CuY5ADwn24)
